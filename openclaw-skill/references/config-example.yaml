# ============================================================
# AIMP Agent 配置示例
# 复制此文件到 ~/.aimp/config.yaml 并填写真实信息
#
# 两种模式（自动检测，无需手动切换）：
#   Hub 模式（推荐）：顶层含 "members:" 字段
#   独立模式（向后兼容）：顶层含 "owner:" 字段
# ============================================================


# ============================================================
# [示例 A] Hub 模式 —— 一个 Agent，服务家庭/团队中的多人
#
# 核心优势：
#   - 只需部署 1 次，其他成员发邮件即可使用
#   - 内部成员之间开会：Hub 直接读取所有人偏好，1 次 LLM 出结果，不发邮件
#   - 对外透明：跟 Hub 外部的人/Agent 仍走标准邮件协商
#
# ⚠️ 重要：Hub 邮箱必须是一个【独立的专用邮箱】！
#   - 不能用任何成员的个人邮箱
#   - 建议注册一个新的 QQ/163 邮箱（如 family-hub@qq.com）
#   - 这是 AI 助理的"工位邮箱"，只用来收发会议协调邮件
# ============================================================

# mode: hub
#
# hub:
#   name: "家庭会议助理"
#   email: "family-hub@gmail.com"        # ⚠️ 必须是独立的 Agent 专用邮箱（不能用成员个人邮箱！）
#   imap_server: "imap.gmail.com"
#   smtp_server: "smtp.gmail.com"
#   imap_port: 993
#   smtp_port: 465
#   password: "$HUB_PASSWORD"            # 用 $VAR 引用环境变量，或直接填密码
#
# members:
#   alice:
#     name: "Alice"
#     email: "alice@gmail.com"           # 白名单身份识别 + 接收通知
#     role: "admin"                      # admin 可管理配置；member 只能发起/参与
#     preferences:
#       preferred_times:
#         - "weekday mornings 9:00-12:00"
#       blocked_times:
#         - "Friday afternoons"
#       preferred_locations:
#         - "Zoom"
#         - "腾讯会议"
#       auto_accept: true
#
#   bob:
#     name: "Bob"
#     email: "bob@gmail.com"
#     role: "member"
#     preferences:
#       preferred_times:
#         - "afternoon 14:00-17:00"
#       blocked_times: []
#       preferred_locations:
#         - "腾讯会议"
#       auto_accept: true
#
# contacts:                              # Hub 外部联系人（走邮件协商）
#   Dave:
#     human_email: "dave@gmail.com"
#     agent_email: ""
#     has_agent: false
#
# # ── 邀请码（可选）：让非成员自助注册 ──
# # 发邮件给 Hub，subject 含 [AIMP-INVITE:码] 即可注册
# invite_codes:
#   - code: "welcome-2026"              # 你分配给对方的码（可发微信/短信/邮件告知）
#     expires: "2026-12-31"             # 可选，过期日期
#     max_uses: 3                       # 可选，0 = 不限次数
#     used: 0                           # 自动更新，勿手改
#
# # ── 已注册用户（Hub 自动维护，勿手改）──
# trusted_users: {}
#
# llm:
#   provider: "anthropic"                # anthropic | openai | local
#   model: "claude-sonnet-4-5-20250514"
#   api_key_env: "ANTHROPIC_API_KEY"
#   # 本地 Ollama（Hub 部署在常驻机器上时推荐，完全免费）：
#   # provider: "local"
#   # model: "llama3"
#   # base_url: "http://localhost:11434/v1"


# ============================================================
# [示例 B] 独立模式 —— 1 人 1 Agent（向后兼容原始格式）
# ============================================================

agent:
  name: "Alice's Assistant"
  email: "alice-agent@gmail.com"        # Agent 专用邮箱
  imap_server: "imap.gmail.com"
  smtp_server: "smtp.gmail.com"
  imap_port: 993
  smtp_port: 465
  password: "$AGENT_A_PASSWORD"         # 用 $VAR 引用环境变量，或直接填密码

owner:
  name: "Alice"
  email: "alice@gmail.com"              # 你的个人邮箱（接收通知用）

preferences:
  preferred_times:
    - "2026-03-01T10:00"
    - "2026-03-02T14:00"
  blocked_times:
    - "2026-03-03"
    - "Friday afternoons"
  preferred_locations:
    - "Zoom"
    - "腾讯会议"
  auto_accept: true

contacts:
  Bob:
    agent_email: "bob-agent@gmail.com"  # Bob 的 Agent 邮箱（如果有）
    human_email: "bob@gmail.com"        # Bob 的个人邮箱（降级用）
    has_agent: true                     # 设为 false 则发自然语言邮件
  Carol:
    agent_email: ""
    human_email: "carol@gmail.com"
    has_agent: false

llm:
  provider: "anthropic"                 # anthropic | openai | local
  model: "claude-sonnet-4-5-20250514"
  api_key_env: "ANTHROPIC_API_KEY"
  # 本地 Ollama 示例：
  # provider: "local"
  # model: "llama3"
  # base_url: "http://localhost:11434/v1"
